<script setup>
import addisCafeImage from "/images/ForYouSection/addis_cafe.jpeg";
import ethioFashionImage from "/images/ForYouSection/ethio_fashion.jpeg";
import sabaSalonImage from "/images/ForYouSection/saba_salon.jpeg";
import bolePharmacyImage from "/images/ForYouSection/bole_pharmacy.jpeg";
import horizonHotelImage from "/images/ForYouSection/horizon_hotel.jpeg";
import unityAutoImage from "/images/ForYouSection/unity_auto.jpeg";

const items = [
  {
    name: "Addis Cafe",
    image: addisCafeImage,
    rating: 4.7,
    category: "Restaurants & Cafes",
    location: "Bole, Addis Ababa, Ethiopia",
    hours: "Mon-Sun, 7 AM - 9 PM",
  },
  {
    name: "Ethio Fashion Hub",
    image: ethioFashionImage,
    rating: 4.0,
    category: "Retail Shops",
    location: "Piassa, Addis Ababa, Ethiopia",
    hours: "Mon-Sat, 9 AM - 7 PM",
  },
  {
    name: "Saba Hair Salon",
    image: sabaSalonImage,
    rating: 4.9,
    category: "Service Providers",
    location: "Kazanchis, Addis Ababa, Ethiopia",
    hours: "Tue-Sun, 10 AM - 8 PM",
  },
  {
    name: "Bole Med Pharmacy",
    image: bolePharmacyImage,
    rating: 4.5,
    category: "Health & Wellness",
    location: "Bole Medhanialem, Addis Ababa, Ethiopia",
    hours: "Mon-Sun, 8 AM - 10 PM",
  },
  {
    name: "Horizon Hotel",
    image: horizonHotelImage,
    rating: 4.6,
    category: "Hotels & Accommodations",
    location: "Mexico Square, Addis Ababa, Ethiopia",
    hours: "24/7",
  },
  {
    name: "Unity Auto Repair",
    image: unityAutoImage,
    rating: 4.4,
    category: "Automotive Services",
    location: "Arat Kilo, Addis Ababa, Ethiopia",
    hours: "Mon-Sat, 8 AM - 6 PM",
  },
];

function generateStars(rating) {
  const fullStars = Math.floor(rating);
  const hasHalfStar = rating % 1 >= 0.4;

  let stars = [];

  for (let i = 0; i < fullStars; i++) {
    stars.push({ type: "full" });
  }

  if (hasHalfStar) {
    stars.push({ type: "half" });
  }

  return stars;
}
</script>

<template>
  <div class="px-4">
    <h1 class="text-primaryColor text-lg font-bold md:text-center md:text-3xl">
      For You
    </h1>
    <div class="grid gap-y-8 place-items-center">
      <div v-for="(item, index) in items" :key="index" class="bg-white">
        <div
          class="w-full h-full bg-cover"
          :style="{ backgroundImage: `url(${item.image})` }"
        ></div>
        <div class="">
          <div class="flex">
            <div
              v-for="(star, index) in generateStars(item.rating)"
              :key="index"
            >
              <svg
                v-if="star.type === 'full'"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                class="size-6 fill-amber-300"
              >
                <path
                  fill-rule="evenodd"
                  d="M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z"
                  clip-rule="evenodd"
                />
              </svg>
              <svg
                v-else-if="star.type === 'half'"
                class="size-6 fill-amber-300"
                xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink"
                viewBox="0 0 276.901 276.901"
                xml:space="preserve"
              >
                <path
                  d="M275.922,105.676c-2.353-7.24-8.612-12.517-16.146-13.611l-71.441-10.381l-31.95-64.737
                    c-3.369-6.826-10.322-11.148-17.935-11.148c-7.613,0-14.565,4.322-17.935,11.148L88.566,81.684L17.125,92.065
                    c-7.533,1.095-13.793,6.371-16.146,13.611s-0.391,15.188,5.062,20.502l51.695,50.391l-12.203,71.153
                    c-1.287,7.504,1.798,15.087,7.956,19.562c6.159,4.475,14.326,5.065,21.063,1.521l63.898-33.594l63.899,33.594
                    c2.927,1.539,6.121,2.298,9.305,2.298c4.146,0,8.273-1.288,11.758-3.819c6.159-4.475,9.243-12.059,7.956-19.562l-12.204-71.153
                    l51.696-50.39C276.312,120.864,278.274,112.916,275.922,105.676z M183.715,155.264c-4.714,4.595-6.865,11.215-5.752,17.703
                    l7.131,41.575l-37.337-19.629c-2.913-1.532-6.11-2.298-9.306-2.298V70.99l18.669,37.826c2.913,5.902,8.545,9.994,15.059,10.94
                    l41.743,6.065L183.715,155.264z"
                />
              </svg>
            </div>

            <p class="mx-3">({{ item.rating }})</p>
          </div>
          <h1 class="font-semibold">{{ item.name }}</h1>
          <div class=""></div>
        </div>
      </div>
    </div>
  </div>
</template>
